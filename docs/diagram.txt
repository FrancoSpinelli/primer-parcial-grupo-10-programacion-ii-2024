@startuml
!theme reddress-darkorange

class Main{
  +Main(): void
}

class CasaMatriz {

  +CasaMatriz(Admin, Auto, Oficina)
  +verListadoPersonas(): void
  +cargarAuto(): void
  +cargarPersona(): void
  +cargarOficina(): void
  +login(): Persona
  +logout(): void
}



class Oficina {
  -sucursalId: int
  -dirección: String
  -teléfono: String
  
  +Oficina(Vendedor, String, String)
}

class Admin{
  +Admin(Persona)
  +listadoDeAutos()
  +listadoDeOficinas()
  +listadoDeAutos()
  +crearAutos(): void
  +crearVendedor(): void
  +crearCliente(): void
  +crearOficina(): void
  +eliminarAutos(): void
  +eliminarPersona(): void
  +eliminarOfcina(): void
  +cancelarReserva(): void
  +asignarAutoAOficina() void
}


class Cliente{
  -favoritos: Auto
  
  +Cliente(Persona)
  
  +agregarFavoritos(Auto): void
  +sacarFavoritos(Auto): void
  +crearConsulta(): void
  +retirarAutos(Reserva)
  +devolverAuto(Reserva, Oficina)
}


class Vendedor{
  +Vendedor(Persona)
  
  +verConsultasPendientes()
  +aceptarConsulta()
  +rechazarConsulta()
  +reservar()
  +entregarAuto(): void
}

class Persona{
  -id: int
  -nombre: String
  -fechaNacimiento: Date
  -documento: int
  -teléfono: String
  -email: String
  -contrasenia: String

  +Persona(int, String, Date, int, String, String)
}



class Reserva {
  -estado: String
  -inicioReserva: Date
  -finReserva: Date
  -cantidadDias: int
  -precioFinal: float
  

  +Reserva(Auto, Cliente, Date, Date)  
  
  +mostrarConsultas(Persona): void
  +crearReserva(Reserva): void
  +rechazarConsulta(Reserva): void
  +aceptarConsulta(Reserva): void
}


class Auto{
  -reserva: Consulta
  -patente: String
  -modelo: String
  -color: String
  -marca: String
  -disponibilidad: bool
  -precio-dia: float
  -cantidadGasolina: float
  -oficinaActual: String

  +Auto(String, String, String, String, float, float, String)  
  
  +validarDisponibilidad(Date, Date): bool
  +calcularPrecioTotal(int): float
  +verListadoAutos(Auto): Auto
  +entregarAuto(): void
  
  -consultarGasolina(): void
  -recargarGasolina(): void
  -consumirGasolina(): void
  -consumoGasolina(): void
  -transportarAOficinaOriginal(): void
}

interface Listador {
    -listar()
}

interface Menu {
  +verMenu(): void
  +seleccionar(): void
}

Main ..> Oficina
Main ..> Admin
Main ..> Auto

Main -- CasaMatriz

CasaMatriz "1"*-->"*"Admin: admins
CasaMatriz "1"*-->"*" Auto: autos
CasaMatriz "1"*-->"*" Oficina: oficinas
CasaMatriz  -->"*" Cliente: clientes

Persona <|-- Admin
Persona <|-- Vendedor
Persona <|-- Cliente



Persona --> Menu

MenuAdmin  ..> Menu
MenuVendedor ..> Menu
MenuCliente ..> Menu

Persona --> Listador

ListarAuto .left.> Listador
ListarClientes .right.> Listador
ListarOficina .down.> Listador
ListarConsulta ..> Listador

Oficina -->"*" Reserva: reservas
Oficina o--> Vendedor
Oficina o-->"*" Auto: autos

Cliente --->"*" Reserva: reservas

Reserva -->"*" Auto: autos

@enduml